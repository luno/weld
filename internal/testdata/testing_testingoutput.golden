package state

import "testing"

// Code generated by weld. DO NOT EDIT.

func NewTestingBackends(b Backends) *TestingBackends {
	return &TestingBackends{
		Backends: b,
	}
}

type TestingBackends struct {
	Backends

	foo Foo
}

func (ti *TestingBackends) Foo() Foo {
	if ti.foo != nil {
		return ti.foo
	}

	return ti.Backends.Foo()
}

// SetFooForTesting is a runtime available override for the "foo" dependency that should only be used for testing.
func (ti *TestingBackends) SetFooForTesting(t *testing.T, foo Foo) {
	t.Cleanup(func() {
		ti.foo = nil
	})

	ti.foo = foo
}
